; Can set BRK to point to this routine; most useful that way - DHH

.ORG = $0CFD

REGSTR	STA $24		; STORE ALL THE REGISTERS
	LDA $EF
	STA $27
	LDA $F0
	STA $28
	LDA $F1
	STA $22
	LDA $F2
	STA $23
	STY $26
	STX $25

	CLD
	

	LDX #$00	; PRINT HEADER
RGSTR1	LDA PCMSG,X
	BEQ PRINT
	JSR $1EA0
	INX
	JMP RGSTR1

PRINT	LDA $28		; PRINT THE HEX VALUE OF PC (HI/LO)
	JSR $1E3B	; PRINT A HEX BYTE
	LDA $27
	JSR $1E3B
	JSR $1E9E	; PRINT A SPACE
	LDX #$00
LOOP	LDA $22,X	; LOOP TO GET STORED R VALUES
	JSR $1E3B
	JSR $1E9E
	INX
	CPX #$05
	BNE LOOP

RESTOR	LDA $24		; PUT REGISTER VALUES BACK
	LDX $25		; AS KIM ROM ALTERS A & Y
	LDY $26		; AND X USED AS A LOOP COUNTER


DONE	JMP $0B00	; JUMP TO LIL' BUG MENU


PCMSG
.BYTE $0A $0D
.BYTE "PC   SR SP AC XR YR"
.BYTE $0A $0D $00
